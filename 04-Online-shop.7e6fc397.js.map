{"mappings":"AAAO,MAAMA,EAAc,CACzB,CACEC,GAAI,EACJC,IAAK,2EACLC,KAAM,UACCC,MAAA,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,WACEC,MAAD,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,SACAC,MAAC,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,aACIC,MAAH,MAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,aACIC,MAAH,KAET,CACEH,GAAI,EACJC,IAAK,yFACLC,KAAM,WACNC,MAAO,OChCLC,EAAOC,SAASC,cAAc,cAC9BC,EAAeF,SAASC,cAAc,qBACtCE,EAAaH,SAASC,cAAc,gBACpCG,EAAS,GAETC,EAASX,EACZY,KACC,EAACX,GAAEA,EAAEC,IAAEA,EAAGC,KAAEA,EAAIC,MAAEA,KAAY,0CAA0CH,uBAC1DC,aAAeC,qDACaA,sBACjCC,kHAKVS,KAAK,IAERR,EAAKS,mBAAmB,YAAaH,GAErCN,EAAKU,iBAAiB,SAGtB,SAAgBC,GACd,GAAIA,EAAEC,OAAOC,UAAUC,SAAS,cAAe,CAC7C,MAAMC,EAAcJ,EAAEC,OAAOI,QAAQ,YAC/BC,EAAYC,OAAOH,EAAYI,QAAQvB,IACvCwB,EAAWzB,EAAY0B,MAAK,EAACzB,GAAEA,KAASA,IAAOqB,IAE/CK,EAAejB,EAAOgB,MAAK,EAACzB,GAAEA,KAASA,IAAOqB,IAWpD,OAVKK,GAKHA,EAAaC,KAAO,EACpBD,EAAaE,SAAWF,EAAaC,IAAMD,EAAavB,QALxDqB,EAASG,IAAM,EACfH,EAASI,SAAWJ,EAASrB,MAC7BM,EAAOoB,KAAKL,SAMdM,aAAaC,QAvCG,oBAuCkBC,KAAKC,UAAUxB,QAlBrDF,EAAaO,iBAAiB,SAuB9B,WACE,MAAMoB,EAAYF,KAAKG,MAAML,aAAaM,QA7CxB,sBA+ClB,GADAC,QAAQC,IAAIJ,IACPA,EACH,OACK,CACL,MAAMK,EAASL,EACZvB,KACC,EAACV,IAAEA,EAAGC,KAAEA,EAAIC,MAAEA,KAAY,mDAChBF,aAAeC,oDACAA,sBACpBC,uBAGNS,KAAK,IACRJ,EAAWK,mBAAmB,YAAa0B","sources":["src/js/card-items.js","src/js/04-Online-shop.js"],"sourcesContent":["export const instruments = [\n  {\n    id: 1,\n    img: 'https://static.dnipro-m.ua/cache/products/1761/catalog_origin_132283.jpg',\n    name: 'Молоток',\n    price: 300,\n  },\n  {\n    id: 2,\n    img: 'https://static.dnipro-m.ua/cache/products/2784/catalog_origin_215533.jpg',\n    name: 'Пасатижі',\n    price: 400,\n  },\n  {\n    id: 3,\n    img: 'https://static.dnipro-m.ua/cache/products/2023/catalog_origin_200763.jpg',\n    name: 'Рівень',\n    price: 500,\n  },\n  {\n    id: 4,\n    img: 'https://static.dnipro-m.ua/cache/products/5225/catalog_origin_214630.jpg',\n    name: 'Шуруповерт',\n    price: 1500,\n  },\n  {\n    id: 5,\n    img: 'https://static.dnipro-m.ua/cache/products/5098/catalog_origin_195568.jpg',\n    name: 'Перфоратор',\n    price: 3000,\n  },\n  {\n    id: 6,\n    img: 'https://takida.com.ua/uploads/shop/products/large/3daf82b3794e6e69f37e03dee8b653bc.jpg',\n    name: 'Болгарка',\n    price: 1400,\n  },\n];\n","import { instruments } from './card-items';\n\nconst STORAGE_KEY = 'product-to-basket';\nconst list = document.querySelector('.list-card');\nconst openModalBtn = document.querySelector('[data-modal-open]');\nconst basketList = document.querySelector('.list-basket');\nconst basket = [];\n\nconst markup = instruments\n  .map(\n    ({ id, img, name, price }) => ` <li class=\"card-item js-item\" data-id=${id}>\n    <img src = \"${img}\" alt = \"${name}\"/>\n        <div class=\"disc\"><h2 class=\"title\">${name}</h2>\n        <p>${price}</p>\n        <button class=\"js-add-btn\">Add</button>\n        <button>Wish list</button></div>\n      </li>`\n  )\n  .join('');\n\nlist.insertAdjacentHTML('beforeend', markup);\n\nlist.addEventListener('click', onItem);\nopenModalBtn.addEventListener('click', fillBasket);\n\nfunction onItem(e) {\n  if (e.target.classList.contains('js-add-btn')) {\n    const currentProd = e.target.closest('.js-item');\n    const currentId = Number(currentProd.dataset.id);\n    const toBasket = instruments.find(({ id }) => id === currentId);\n\n    const prodInBasket = basket.find(({ id }) => id === currentId);\n    if (!prodInBasket) {\n      toBasket.qty = 1;\n      toBasket.totalSum = toBasket.price;\n      basket.push(toBasket);\n    } else {\n      prodInBasket.qty += 1;\n      prodInBasket.totalSum = prodInBasket.qty * prodInBasket.price;\n    }\n    // console.log(basket);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(basket));\n    return;\n  }\n}\n\nfunction fillBasket() {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  console.log(savedData);\n  if (!savedData) {\n    return;\n  } else {\n    const markup = savedData\n      .map(\n        ({ img, name, price }) => ` <li class=\"list-basket-item\">\n    <img src = \"${img}\" alt = \"${name}\" width=\"200\"/>\n        <div><h2 class=\"title\">${name}</h2>\n        <p>${price}</p>\n      </li>`\n      )\n      .join('');\n    basketList.insertAdjacentHTML('beforeend', markup);\n  }\n}\n"],"names":["$3dbddbe79e803dc1$export$b2f1d8d9f77f27e2","id","img","name","price","$7618f5d2cc489a1c$var$list","document","querySelector","$7618f5d2cc489a1c$var$openModalBtn","$7618f5d2cc489a1c$var$basketList","$7618f5d2cc489a1c$var$basket","$7618f5d2cc489a1c$var$markup","map","join","insertAdjacentHTML","addEventListener","e","target","classList","contains","currentProd","closest","currentId","Number","dataset","toBasket","find","prodInBasket","qty","totalSum","push","localStorage","setItem","JSON","stringify","savedData","parse","getItem","console","log","markup1"],"version":3,"file":"04-Online-shop.7e6fc397.js.map"}