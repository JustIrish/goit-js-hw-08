{"mappings":"YAAO,IAAMA,EAAc,CACzB,CACEC,GAAI,EACJC,IAAK,2EACLC,KAAM,UACCC,MAAA,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,WACEC,MAAD,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,SACAC,MAAC,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,aACIC,MAAH,MAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,aACIC,MAAH,KAET,CACEH,GAAI,EACJC,IAAK,yFACLC,KAAM,WACNC,MAAO,OCjCLC,EAAc,oBACdC,EAAOC,SAASC,cAAc,cAC9BC,EAAeF,SAASC,cAAc,qBACtCE,EAAaH,SAASC,cAAc,gBACpCG,EAAOJ,SAASC,cAAc,SAC9BI,EAAS,GAETC,EAASb,EACZc,KACC,SAAAC,G,IAAGd,EAAEc,EAAFd,GAAIC,EAAGa,EAAHb,IAAKC,EAAIY,EAAJZ,KAAMC,EAAKW,EAALX,M,MAAY,0CAChBY,OAD0Df,EAAG,uBAC9Ce,OAAfd,EAAI,aACwBc,OADbb,EAAK,qDAEzBa,OADiCb,EAAK,sBAChCa,OAANZ,EAAM,mHAKhBa,KAAK,IAERX,EAAKY,mBAAmB,YAAaL,GAErCP,EAAKa,iBAAiB,SAGtB,SAAgBC,GACd,GAAIA,EAAEC,OAAOC,UAAUC,SAAS,cAAe,CAC7C,IAAMC,EAAcJ,EAAEC,OAAOI,QAAQ,YAC/BC,EAAYC,OAAOH,EAAYI,QAAQ3B,IACvC4B,EAAW7B,EAAY8B,MAAK,SAAAf,G,OAAKA,EAAFd,KAAgByB,KAE/CK,EAAenB,EAAOkB,MAAK,SAAAf,G,OAAKA,EAAFd,KAAgByB,KAWpD,OAVKK,GAKHA,EAAaC,KAAO,EACpBD,EAAaE,SAAWF,EAAaC,IAAMD,EAAa3B,QALxDyB,EAASG,IAAM,EACfH,EAASI,SAAWJ,EAASzB,MAC7BQ,EAAOsB,KAAKL,SAMdM,aAAaC,QAAQ/B,EAAagC,KAAKC,UAAU1B,QAlBrDH,EAAaU,iBAAiB,SAuB9B,WACE,IAAMoB,EAAYF,KAAKG,MAAML,aAAaM,QAAQpC,IAElD,GADAqC,QAAQC,IAAIJ,IACPA,EACH,OAEA,IAAMK,EAASL,EACZzB,KACC,SAAAC,G,IAAGb,EAAGa,EAAHb,IAAKC,EAAIY,EAAJZ,KAAM6B,EAAGjB,EAAHiB,IAAK5B,EAAKW,EAALX,M,MAAY,mDACNY,OAAfd,EAAI,aACMc,OADKb,EAAK,+CAEzBa,OADeb,EAAK,sBAEpBa,OADAgB,EAAI,yBACEhB,OAANZ,EAAM,wBAGZa,KAAK,IACRP,EAAWmC,UAAYD,EACvB,IAAME,EAAMP,EAAUQ,QACpB,SAACC,EAAKC,G,OAAUD,EAAOC,EAAKjB,IAAMiB,EAAK7C,QACvC,GAEFsC,QAAQC,IAAIG,GACZnC,EAAKkC,UAAY,sBAAsC7B,OAAJ8B,EAAI,gD","sources":["src/js/card-items.js","src/js/04-Online-shop.js"],"sourcesContent":["export const instruments = [\n  {\n    id: 1,\n    img: 'https://static.dnipro-m.ua/cache/products/1761/catalog_origin_132283.jpg',\n    name: 'Молоток',\n    price: 300,\n  },\n  {\n    id: 2,\n    img: 'https://static.dnipro-m.ua/cache/products/2784/catalog_origin_215533.jpg',\n    name: 'Пасатижі',\n    price: 400,\n  },\n  {\n    id: 3,\n    img: 'https://static.dnipro-m.ua/cache/products/2023/catalog_origin_200763.jpg',\n    name: 'Рівень',\n    price: 500,\n  },\n  {\n    id: 4,\n    img: 'https://static.dnipro-m.ua/cache/products/5225/catalog_origin_214630.jpg',\n    name: 'Шуруповерт',\n    price: 1500,\n  },\n  {\n    id: 5,\n    img: 'https://static.dnipro-m.ua/cache/products/5098/catalog_origin_195568.jpg',\n    name: 'Перфоратор',\n    price: 3000,\n  },\n  {\n    id: 6,\n    img: 'https://takida.com.ua/uploads/shop/products/large/3daf82b3794e6e69f37e03dee8b653bc.jpg',\n    name: 'Болгарка',\n    price: 1400,\n  },\n];\n","import { instruments } from './card-items';\n\nconst STORAGE_KEY = 'product-to-basket';\nconst list = document.querySelector('.list-card');\nconst openModalBtn = document.querySelector('[data-modal-open]');\nconst basketList = document.querySelector('.list-basket');\nconst form = document.querySelector('.form');\nconst basket = [];\n\nconst markup = instruments\n  .map(\n    ({ id, img, name, price }) => ` <li class=\"card-item js-item\" data-id=${id}>\n    <img src = \"${img}\" alt = \"${name}\"/>\n        <div class=\"disc\"><h2 class=\"title\">${name}</h2>\n        <p>${price}</p>\n        <button class=\"js-add-btn\">Add</button>\n        <button>Wish list</button></div>\n      </li>`\n  )\n  .join('');\n\nlist.insertAdjacentHTML('beforeend', markup);\n\nlist.addEventListener('click', onItem);\nopenModalBtn.addEventListener('click', fillBasket);\n\nfunction onItem(e) {\n  if (e.target.classList.contains('js-add-btn')) {\n    const currentProd = e.target.closest('.js-item');\n    const currentId = Number(currentProd.dataset.id);\n    const toBasket = instruments.find(({ id }) => id === currentId);\n\n    const prodInBasket = basket.find(({ id }) => id === currentId);\n    if (!prodInBasket) {\n      toBasket.qty = 1;\n      toBasket.totalSum = toBasket.price;\n      basket.push(toBasket);\n    } else {\n      prodInBasket.qty += 1;\n      prodInBasket.totalSum = prodInBasket.qty * prodInBasket.price;\n    }\n    // console.log(basket);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(basket));\n    return;\n  }\n}\n\nfunction fillBasket() {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  console.log(savedData);\n  if (!savedData) {\n    return;\n  } else {\n    const markup = savedData\n      .map(\n        ({ img, name, qty, price }) => ` <li class=\"list-basket-item\">\n    <img src = \"${img}\" alt = \"${name}\" width=\"100\"/>\n        <h2 class=\"title\">${name}</h2>\n        <p>${qty} шт.</p>\n        <p>${price}</p>\n      </li>`\n      )\n      .join('');\n    basketList.innerHTML = markup;\n    const sum = savedData.reduce(\n      (acc, data) => (acc += data.qty * data.price),\n      0\n    );\n    console.log(sum);\n    form.innerHTML = `<p>Сума до сплати: ${sum}</p>\n          <button>Сплатити</button>`;\n  }\n}\n"],"names":["$4316489e1c90c9e5$export$b2f1d8d9f77f27e2","id","img","name","price","$ec49aa53d368a17a$var$STORAGE_KEY","$ec49aa53d368a17a$var$list","document","querySelector","$ec49aa53d368a17a$var$openModalBtn","$ec49aa53d368a17a$var$basketList","$ec49aa53d368a17a$var$form","$ec49aa53d368a17a$var$basket","$ec49aa53d368a17a$var$markup","map","param","concat","join","insertAdjacentHTML","addEventListener","e","target","classList","contains","currentProd","closest","currentId","Number","dataset","toBasket","find","prodInBasket","qty","totalSum","push","localStorage","setItem","JSON","stringify","savedData","parse","getItem","console","log","markup1","innerHTML","sum","reduce","acc","data"],"version":3,"file":"04-Online-shop.ba4e806e.js.map"}