{"mappings":"YAAO,IAAMA,EAAc,CACzB,CACEC,GAAI,EACJC,IAAK,2EACLC,KAAM,UACCC,MAAA,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,WACEC,MAAD,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,SACAC,MAAC,KAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,aACIC,MAAH,MAET,CACEH,GAAI,EACJC,IAAK,2EACLC,KAAM,aACIC,MAAH,KAET,CACEH,GAAI,EACJC,IAAK,yFACLC,KAAM,WACNC,MAAO,OCjCLC,EAAc,oBACdC,EAAOC,SAASC,cAAc,cAC9BC,EAAeF,SAASC,cAAc,qBACtCE,EAAaH,SAASC,cAAc,gBACpCG,EAAS,GAETC,EAASZ,EACZa,KACC,SAAAC,G,IAAGb,EAAEa,EAAFb,GAAIC,EAAGY,EAAHZ,IAAKC,EAAIW,EAAJX,KAAMC,EAAKU,EAALV,M,MAAY,0CAChBW,OAD0Dd,EAAG,uBAC9Cc,OAAfb,EAAI,aACwBa,OADbZ,EAAK,qDAEzBY,OADiCZ,EAAK,sBAChCY,OAANX,EAAM,mHAKhBY,KAAK,IAERV,EAAKW,mBAAmB,YAAaL,GAErCN,EAAKY,iBAAiB,SAGtB,SAAgBC,GACd,GAAIA,EAAEC,OAAOC,UAAUC,SAAS,cAAe,CAC7C,IAAMC,EAAcJ,EAAEC,OAAOI,QAAQ,YAC/BC,EAAYC,OAAOH,EAAYI,QAAQ1B,IACvC2B,EAAW5B,EAAY6B,MAAK,SAAAf,G,OAAKA,EAAFb,KAAgBwB,KAE/CK,EAAenB,EAAOkB,MAAK,SAAAf,G,OAAKA,EAAFb,KAAgBwB,KAWpD,OAVKK,GAKHA,EAAaC,KAAO,EACpBD,EAAaE,SAAWF,EAAaC,IAAMD,EAAa1B,QALxDwB,EAASG,IAAM,EACfH,EAASI,SAAWJ,EAASxB,MAC7BO,EAAOsB,KAAKL,SAMdM,aAAaC,QAAQ9B,EAAa+B,KAAKC,UAAU1B,QAlBrDF,EAAaS,iBAAiB,SAuB9B,WACE,IAAMoB,EAAYF,KAAKG,MAAML,aAAaM,QAAQnC,IAElD,GADAoC,QAAQC,IAAIJ,IACPA,EACH,OAEA,IAAMK,EAASL,EACZzB,KACC,SAAAC,G,IAAGZ,EAAGY,EAAHZ,IAAKC,EAAIW,EAAJX,KAAMC,EAAKU,EAALV,M,MAAY,mDACDW,OAAfb,EAAI,aACWa,OADAZ,EAAK,oDAEzBY,OADoBZ,EAAK,sBACnBY,OAANX,EAAM,wBAGZY,KAAK,IACRN,EAAWO,mBAAmB,YAAa0B,M","sources":["src/js/card-items.js","src/js/04-Online-shop.js"],"sourcesContent":["export const instruments = [\n  {\n    id: 1,\n    img: 'https://static.dnipro-m.ua/cache/products/1761/catalog_origin_132283.jpg',\n    name: 'Молоток',\n    price: 300,\n  },\n  {\n    id: 2,\n    img: 'https://static.dnipro-m.ua/cache/products/2784/catalog_origin_215533.jpg',\n    name: 'Пасатижі',\n    price: 400,\n  },\n  {\n    id: 3,\n    img: 'https://static.dnipro-m.ua/cache/products/2023/catalog_origin_200763.jpg',\n    name: 'Рівень',\n    price: 500,\n  },\n  {\n    id: 4,\n    img: 'https://static.dnipro-m.ua/cache/products/5225/catalog_origin_214630.jpg',\n    name: 'Шуруповерт',\n    price: 1500,\n  },\n  {\n    id: 5,\n    img: 'https://static.dnipro-m.ua/cache/products/5098/catalog_origin_195568.jpg',\n    name: 'Перфоратор',\n    price: 3000,\n  },\n  {\n    id: 6,\n    img: 'https://takida.com.ua/uploads/shop/products/large/3daf82b3794e6e69f37e03dee8b653bc.jpg',\n    name: 'Болгарка',\n    price: 1400,\n  },\n];\n","import { instruments } from './card-items';\n\nconst STORAGE_KEY = 'product-to-basket';\nconst list = document.querySelector('.list-card');\nconst openModalBtn = document.querySelector('[data-modal-open]');\nconst basketList = document.querySelector('.list-basket');\nconst basket = [];\n\nconst markup = instruments\n  .map(\n    ({ id, img, name, price }) => ` <li class=\"card-item js-item\" data-id=${id}>\n    <img src = \"${img}\" alt = \"${name}\"/>\n        <div class=\"disc\"><h2 class=\"title\">${name}</h2>\n        <p>${price}</p>\n        <button class=\"js-add-btn\">Add</button>\n        <button>Wish list</button></div>\n      </li>`\n  )\n  .join('');\n\nlist.insertAdjacentHTML('beforeend', markup);\n\nlist.addEventListener('click', onItem);\nopenModalBtn.addEventListener('click', fillBasket);\n\nfunction onItem(e) {\n  if (e.target.classList.contains('js-add-btn')) {\n    const currentProd = e.target.closest('.js-item');\n    const currentId = Number(currentProd.dataset.id);\n    const toBasket = instruments.find(({ id }) => id === currentId);\n\n    const prodInBasket = basket.find(({ id }) => id === currentId);\n    if (!prodInBasket) {\n      toBasket.qty = 1;\n      toBasket.totalSum = toBasket.price;\n      basket.push(toBasket);\n    } else {\n      prodInBasket.qty += 1;\n      prodInBasket.totalSum = prodInBasket.qty * prodInBasket.price;\n    }\n    // console.log(basket);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(basket));\n    return;\n  }\n}\n\nfunction fillBasket() {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  console.log(savedData);\n  if (!savedData) {\n    return;\n  } else {\n    const markup = savedData\n      .map(\n        ({ img, name, price }) => ` <li class=\"list-basket-item\">\n    <img src = \"${img}\" alt = \"${name}\" width=\"200\"/>\n        <div><h2 class=\"title\">${name}</h2>\n        <p>${price}</p>\n      </li>`\n      )\n      .join('');\n    basketList.insertAdjacentHTML('beforeend', markup);\n  }\n}\n"],"names":["$4316489e1c90c9e5$export$b2f1d8d9f77f27e2","id","img","name","price","$ec49aa53d368a17a$var$STORAGE_KEY","$ec49aa53d368a17a$var$list","document","querySelector","$ec49aa53d368a17a$var$openModalBtn","$ec49aa53d368a17a$var$basketList","$ec49aa53d368a17a$var$basket","$ec49aa53d368a17a$var$markup","map","param","concat","join","insertAdjacentHTML","addEventListener","e","target","classList","contains","currentProd","closest","currentId","Number","dataset","toBasket","find","prodInBasket","qty","totalSum","push","localStorage","setItem","JSON","stringify","savedData","parse","getItem","console","log","markup1"],"version":3,"file":"04-Online-shop.3ea7f43e.js.map"}